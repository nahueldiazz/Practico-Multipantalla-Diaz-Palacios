{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Multi\\\\Practico-Multipantalla-Diaz-Palacios\\\\components\\\\AlbumList.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport axios from 'axios';\nimport AlbumDetail from \"./AlbumDetail\";\n\nfunction AlbumList(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      photoset = _useState2[0],\n      setPhotoset = _useState2[1];\n\n  var getAlbumList = function getAlbumList() {\n    var albumResponse;\n    return _regeneratorRuntime.async(function getAlbumList$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.get('https://api.flickr.com/services/rest/?method=flickr.photosets.getList&api_key=6e8a597cb502b7b95dbd46a46e25db8d&user_id=137290658%40N08&format=json&nojsoncallback=1'));\n\n          case 3:\n            albumResponse = _context.sent;\n            setPhotoset(albumResponse.data.photosets.photoset);\n            _context.next = 9;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  useEffect(function () {\n    getAlbumList();\n  }, []);\n\n  var renderAlbum = function renderAlbum(_ref2) {\n    var item = _ref2.item;\n    return React.createElement(AlbumDetail, {\n      navigation: navigation,\n      key: item.id,\n      title: item.title._content,\n      albumId: item.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 14\n      }\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, photoset ? React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 24\n    }\n  }, React.createElement(FlatList, {\n    data: photoset,\n    renderItem: renderAlbum,\n    keyExtractor: function keyExtractor(album) {\n      return album.id;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }\n  })) : React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }\n  }, \"Loading...\")));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: StatusBar.currentHeight || 0\n  },\n  item: {\n    backgroundColor: '#f9c2ff',\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16\n  },\n  title: {\n    fontSize: 32\n  }\n});\nexport default AlbumList;","map":{"version":3,"names":["React","useState","useEffect","axios","AlbumDetail","AlbumList","navigation","photoset","setPhotoset","getAlbumList","get","albumResponse","data","photosets","renderAlbum","item","id","title","_content","styles","container","album","flex","StyleSheet","create","marginTop","StatusBar","currentHeight","backgroundColor","padding","marginVertical","marginHorizontal","fontSize"],"sources":["C:/Multi/Practico-Multipantalla-Diaz-Palacios/components/AlbumList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FlatList, StyleSheet, Text, View, StatusBar} from 'react-native';\r\nimport axios from 'axios';\r\nimport AlbumDetail from './AlbumDetail';\r\n\r\n\r\nfunction AlbumList({navigation}) {\r\n  const [photoset, setPhotoset] = useState(null);\r\n\r\n  const getAlbumList = async () => {\r\n    try {\r\n        const albumResponse = await axios\r\n            .get(\r\n                'https://api.flickr.com/services/rest/?method=flickr.photosets.getList&api_key=6e8a597cb502b7b95dbd46a46e25db8d&user_id=137290658%40N08&format=json&nojsoncallback=1',\r\n            )\r\n        setPhotoset(albumResponse.data.photosets.photoset);\r\n\r\n    } catch (e) {\r\n\r\n    }\r\n}\r\n\r\n  useEffect(() => {\r\n      \r\n\r\n      getAlbumList();\r\n\r\n     \r\n  }, [])\r\n\r\n  const renderAlbum = ({item}) => {\r\n      return <AlbumDetail\r\n          navigation={navigation}\r\n          key={item.id}\r\n          title={item.title._content}\r\n          albumId={item.id}\r\n      />\r\n  }\r\n\r\n  return (\r\n      <div>\r\n          {photoset ? (<View style={styles.container}>\r\n                  <FlatList\r\n                      data={photoset}\r\n                      renderItem={renderAlbum}\r\n                      keyExtractor={album => album.id}\r\n                  />\r\n              </View>) :\r\n              (<View style={{flex: 1}}>\r\n                  <Text>Loading...</Text>\r\n              </View>)}\r\n      </div>\r\n\r\n  );\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n      flex: 1,\r\n      marginTop: StatusBar.currentHeight || 0,\r\n  },\r\n  item: {\r\n      backgroundColor: '#f9c2ff',\r\n      padding: 20,\r\n      marginVertical: 8,\r\n      marginHorizontal: 16,\r\n  },\r\n  title: {\r\n      fontSize: 32,\r\n  },\r\n});\r\n// const AlbumList = ({navigation}) => {\r\n//   const [state, setState] = useState({ photoset: null })\r\n\r\n//   const componentWillMount =  () =>  {\r\n//      axios.get(\r\n//       'https://api.flickr.com/services/rest/?method=flickr.photosets.getList&api_key=6e8a597cb502b7b95dbd46a46e25db8d&user_id=137290658%40N08&format=json&nojsoncallback=1',\r\n//     ).then(({ data }) => {\r\n//       setState({\r\n//         photoset: data.photosets.photoset\r\n//       });\r\n//     })\r\n//   }\r\n  \r\n//   useEffect(() => {\r\n//     componentWillMount()\r\n//   }, [])\r\n  \r\n//   const renderAlbums = ({item}) => {\r\n//     console.log(state);\r\n   \r\n//       <AlbumDetail\r\n//         navigation={navigation}\r\n//         key={item.id}\r\n//         title={item.title._content}\r\n//         albumId={item.id}\r\n//       />\r\n    \r\n//   }\r\n\r\n//   const styles = StyleSheet.create({\r\n//     container: {\r\n//         flex: 1,\r\n//         marginTop: StatusBar.currentHeight || 0,\r\n//     },\r\n//     item: {\r\n//         backgroundColor: '#f9c2ff',\r\n//         padding: 20,\r\n//         marginVertical: 8,\r\n//         marginHorizontal: 16,\r\n//     },\r\n//     title: {\r\n//         fontSize: 32,\r\n//     },\r\n// });\r\n\r\n\r\n//   return (\r\n\r\n//     state ?\r\n//       <View style={styles.container}>\r\n//         <FlatList\r\n//           data={state.photoset}\r\n//           renderItem={renderAlbums}\r\n//           keyExtractor={album => album.id}\r\n//         />\r\n//       </View> :\r\n//       <Text>Loading...</Text>\r\n\r\n//   )\r\n\r\n// }\r\n\r\nexport default AlbumList;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP;;AAGA,SAASC,SAAT,OAAiC;EAAA;;EAAA,IAAbC,UAAa,QAAbA,UAAa;;EAC/B,gBAAgCL,QAAQ,CAAC,IAAD,CAAxC;EAAA;EAAA,IAAOM,QAAP;EAAA,IAAiBC,WAAjB;;EAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,iCAEaN,KAAK,CAC5BO,GADuB,CAEpB,qKAFoB,CAFb;;UAAA;YAETC,aAFS;YAMfH,WAAW,CAACG,aAAa,CAACC,IAAd,CAAmBC,SAAnB,CAA6BN,QAA9B,CAAX;YANe;YAAA;;UAAA;YAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAArB;;EAaAL,SAAS,CAAC,YAAM;IAGZO,YAAY;EAGf,CANQ,EAMN,EANM,CAAT;;EAQA,IAAMK,WAAW,GAAG,SAAdA,WAAc,QAAY;IAAA,IAAVC,IAAU,SAAVA,IAAU;IAC5B,OAAO,oBAAC,WAAD;MACH,UAAU,EAAET,UADT;MAEH,GAAG,EAAES,IAAI,CAACC,EAFP;MAGH,KAAK,EAAED,IAAI,CAACE,KAAL,CAAWC,QAHf;MAIH,OAAO,EAAEH,IAAI,CAACC,EAJX;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAP;EAMH,CAPD;;EASA,OACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACKT,QAAQ,GAAI,oBAAC,IAAD;IAAM,KAAK,EAAEY,MAAM,CAACC,SAApB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACL,oBAAC,QAAD;IACI,IAAI,EAAEb,QADV;IAEI,UAAU,EAAEO,WAFhB;IAGI,YAAY,EAAE,sBAAAO,KAAK;MAAA,OAAIA,KAAK,CAACL,EAAV;IAAA,CAHvB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADK,CAAJ,GAOJ,oBAAC,IAAD;IAAM,KAAK,EAAE;MAACM,IAAI,EAAE;IAAP,CAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACG,oBAAC,IAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBADH,CART,CADJ;AAgBD;;AAED,IAAMH,MAAM,GAAGI,UAAU,CAACC,MAAX,CAAkB;EAC/BJ,SAAS,EAAE;IACPE,IAAI,EAAE,CADC;IAEPG,SAAS,EAAEC,SAAS,CAACC,aAAV,IAA2B;EAF/B,CADoB;EAK/BZ,IAAI,EAAE;IACFa,eAAe,EAAE,SADf;IAEFC,OAAO,EAAE,EAFP;IAGFC,cAAc,EAAE,CAHd;IAIFC,gBAAgB,EAAE;EAJhB,CALyB;EAW/Bd,KAAK,EAAE;IACHe,QAAQ,EAAE;EADP;AAXwB,CAAlB,CAAf;AA6EA,eAAe3B,SAAf"},"metadata":{},"sourceType":"module"}